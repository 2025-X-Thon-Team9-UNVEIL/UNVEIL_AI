# UNVEIL AI - 소음 분석 서비스

> 벽체 재질 및 방음 성능 분석을 위한 음향 신호 처리 서비스

---

## 📋 개요

UNVEIL AI는 사용자가 재생한 핑 소리의 반향음을 분석하여 방의 방음 및 소음 수준을 측정하는 FastAPI 기반 서비스입니다.

벽의 공명을 탐지하여 자취방의 보이지 않는 소음 위험을 가장 정확하게 진단할 수 있습니다.

---

## 🎯 핵심 기능

### 소음 분석 (Bass Ratio 알고리즘)

**문제 정의**: 원룸에서 옆방의 말소리가 벽을 타고 넘어오는 **'벽간 소음(Inter-wall Noise)'** 진단

**해결 방법**:

1.  **신호 필터링 (Filtering):** 녹음된 소리에서 분석에 필요한 저음(Low)과 고음(High) 대역만 `SciPy`로 분리합니다.
2.  **에너지 적분 (Schroeder Integration):** 불규칙한 소리 파형을 매끄러운 에너지 감쇠 곡선으로 변환합니다.
3.  **기울기 산출 (Linear Regression):** 소리가 줄어드는 속도(기울기)를 계산하여 순수한 잔향 시간을 추출합니다.
4.  **Bass Ratio 판별:** 저음이 고음보다 얼마나 더 오래 남는지 비율을 계산하여 **'벽 공명 여부'**를 최종 판단합니다.

---

## 🔬 기술적 특징

**구현 내용**:

- NumPy와 SciPy를 활용해 음향 분석 엔진을 밑바닥부터 직접 구현
- **슈뢰더 역방향 적분법** 구현
- **T20 선형 회귀 분석**을 통한 정확한 RT60 계산 (-5dB ~ -25dB 구간)
- 분석 구간 설정과 필터링 대역에 대한 **완벽한 통제권** 확보

### 알고리즘 프로세스

1. **필터링**: Butterworth Band-pass Filter로 저주파(125~500Hz)와 고주파(1kHz~4kHz) 대역 분리
2. **슈뢰더 역방향 적분**: 에너지 감쇠 곡선 추출
3. **T20 선형 회귀**: -5dB ~ -25dB 구간의 선형 회귀 분석을 통한 정확한 기울기 산출
4. **RT60 계산**: -60dB까지 떨어지는 전체 잔향 시간 계산
5. **Bass Ratio 산출**: 저주파 RT60 / 고주파 RT60

---

## 🛠️ 기술 스택

- **Python** 3.8+
- **FastAPI** - 고성능 비동기 웹 프레임워크
- **NumPy** - 수치 계산
- **SciPy** - 과학 계산 (신호 처리, 통계)
- **SoundFile** - 오디오 파일 I/O

---

## 🏗️ 프로젝트 구조

```
UNVEIL_AI/
├── app/
│   ├── core/              # 데이터베이스 설정
│   ├── fast_api/          # FastAPI 앱 및 라우터
│   ├── services/          # 핵심 음향 분석 로직
│   └── model_inference/   # 모델 테스트 및 개발
└── requirements.txt
```

---
